<!DOCTYPE html>
<html>

<body>

    <h2>JavaScript Geolocation API</h2>
    <p>Click the button to get your coordinates.</p>

    <button onclick="getLocation()">Try It</button>

    <p id="demo"></p>

    <script>
        const x = document.getElementById("demo");

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.watchPosition(showPosition);
            } else {
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function showPosition(position) {
            x.innerHTML = "Latitude: " + position.coords.latitude +
                "<br>Longitude: " + position.coords.longitude;

            // Save coordinates to a text file
            saveCoordinatesToFile(position.coords.latitude, position.coords.longitude);
        }

        function saveCoordinatesToFile(latitude, longitude) {
            const data = `Latitude: ${latitude}\nLongitude: ${longitude}`;
            const blob = new Blob([data], { type: 'text/plain' });
            const fileName = 'coordinates.txt';

            const a = document.createElement('a');
            a.href = window.URL.createObjectURL(blob);
            a.download = fileName;
            a.style.display = 'none';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>

</body>

</html>
